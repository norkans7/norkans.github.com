<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=us-ascii">
    <title>Norkans Online</title>

<script type="text/javascript" src="scripts/jquery.js"></script>
<!--[if IE]><script src="scripts/excanvas.js"></script><![endif]-->
<script>
// the size of our canvas, it is square
var CANVAS_SIZE = 750;

// the radius of the ball we are drawing
var RADIUS = 25;

// our starting positions
var START_X = randomFromTo(RADIUS,CANVAS_SIZE);
var START_Y = randomFromTo(RADIUS,CANVAS_SIZE);
var START_X1 = randomFromTo(RADIUS,CANVAS_SIZE);
var START_Y1 = randomFromTo(RADIUS,CANVAS_SIZE);
// the current location of our ball
var ball_x = START_X;
var ball_y = START_Y;
var ball1_x = START_X1;
var ball1_y = START_Y1;
// the movement increment for our ball, it's speed on each axis
var inc_x = 4;
var inc_y = 2;

var inc_x1 = 6;
var inc_y1 = 5;

function randomFromTo(from, to){
       return Math.floor(Math.random() * (to - from + 1) + from);
    }
 
// this function is responsible for drawing our canvas element
function draw(){
    // this just sets up our Javascript canvas to be drawn to
    var canvas = document.getElementById("canvas");  
    var pen = canvas.getContext("2d");
	var img = new Image ();
	img.src = 'images/N7.jpg';
	
	//document.body.background= 'challenge1_files/Desert.jpg';
    // we clear the canvas, removing what has already been drawn
    pen.clearRect(0, 0, CANVAS_SIZE, CANVAS_SIZE);

	pen.drawImage(img,0,0,CANVAS_SIZE, CANVAS_SIZE);
    // then we draw the ball
	pen.fillStyle = '#FD0';
	//pen.fillRect(0,0, CANVAS_SIZE, CANVAS_SIZE);
	//pen.drawImage(img,0,0,100,100);
	pen.fillStyle = '#395a3d';
	pen.strokeStyle = "#ffffff";
    pen.beginPath();
    pen.arc(ball_x, ball_y, RADIUS, 0, 2*Math.PI, false);
	//pen.stroke();
	pen.stroke();
	pen.fill();
	pen.fillStyle = '#092a49';
	
	pen.strokeStyle = "#ffffff";
	pen.beginPath();
    pen.arc(ball1_x, ball1_y, RADIUS, 0, 2*Math.PI, false);
	pen.stroke();
	pen.fill();
}

function updateDebug(){
  // update our HTML debugging elements
  $("#ball_x").text(ball_x);
  $("#ball_y").text(ball_y);
  $("#inc_x").text(inc_x);
  $("#inc_y").text(inc_y);
  $("#canvas_width").text(CANVAS_SIZE);
  $("#canvas_height").text(CANVAS_SIZE);
}

// this function is called 40 times a second and has two jobs
//   1) to increment our board, that is, to move our ball or do other operations 
//      having to do with animation
//   2) to trigger the Canvas element to be redrawn by calling the draw() function
//      above
//
function tick(){
  // we simply increment the position of the ball based on our initial speed

  // TODO: Can you change this logic to make the ball bounce off the sides of
  // the screen?
  ball_x += inc_x;
  ball_y += inc_y;
  
  ball1_x += inc_x1;
  ball1_y += inc_y1;
  
  if (ball_x <= RADIUS | ball_x >= CANVAS_SIZE - RADIUS )
  {inc_x = inc_x * (-1);
  }
  if(ball_y <= RADIUS | ball_y >= CANVAS_SIZE - RADIUS)
  {inc_y = inc_y *(-1);
  }
  
  if (ball1_x <= RADIUS | ball1_x >= CANVAS_SIZE - RADIUS)
  {inc_x1 = inc_x1 * (-1);
  }
  if(ball1_y <= RADIUS | ball1_y >= CANVAS_SIZE - RADIUS)
  {inc_y1 = inc_y1 *(-1);
  }
  if ((Math.pow((ball_x-ball1_x),2)+Math.pow((ball_y-ball1_y),2)) <= 4*RADIUS*RADIUS)
  {
    
  inc_x = inc_x * (-1) + inc_x1 *(-1);
  inc_y = inc_y * (-1) + inc_y1 *(-1);
  inc_x1 = inc_x * (-1) + inc_x1 *(-1);
  inc_y1 = inc_y * (-1) + inc_y1 *(-1);
  
  }
  draw();

  updateDebug();

  setTimeout("tick()", 25);
}

// just resets our ball position to the start
function reset(){
  ball_x = START_X;
  ball_y = START_Y;
}

$(function(){
  setTimeout("tick()", 25);
});
</script>

<script type="text/javascript">
		var canvas, ctx;
		var particles = [];
		var NUM_PARTICLES = 400;

		function Particle() {
			this.x = Math.random() * canvas.width;
			this.y = Math.random() * canvas.height;

			this.xvel = Math.random() * 5 - 2.5;
			this.yvel = Math.random() * 5 - 2.5;
		}

		Particle.prototype.update = function() {
			this.x += this.xvel;
			this.y += this.yvel;

			this.yvel += 0.1;

			if (this.x > canvas.width || this.x < 0) {
				this.xvel = -this.xvel;
			}

			if (this.y > canvas.height || this.y < 0) {
				this.yvel = -this.yvel;
			}
		}

		function loop() {
			//ctx.clearRect(0, 0, canvas.width, canvas.height);

			for(var i = 0; i < 100; i++) {
				particles[i].update();
				
				ctx.strokeStyle = '#ffff00';
				ctx.beginPath();
				ctx.moveTo(particles[i].x, particles[i].y);
				ctx.lineTo(particles[i].x - particles[i].xvel,
									 particles[i].y - particles[i].yvel);
				ctx.stroke();
				ctx.closePath();
			}
			for(var i = 100; i < 200; i++) {
				particles[i].update();

				ctx.strokeStyle = '#00980e';
				ctx.beginPath();
				ctx.moveTo(particles[i].x, particles[i].y);
				ctx.lineTo(particles[i].x - particles[i].xvel,
									 particles[i].y - particles[i].yvel);
				ctx.stroke();
				ctx.closePath();
			}
			for(var i = 200; i < NUM_PARTICLES; i++) {
				particles[i].update();

				ctx.strokeStyle = '#fb0808';
				ctx.beginPath();
				ctx.moveTo(particles[i].x, particles[i].y);
				ctx.lineTo(particles[i].x - particles[i].xvel,
									 particles[i].y - particles[i].yvel);
				ctx.stroke();
				ctx.closePath();
			}
			for(var i = 300; i < NUM_PARTICLES; i++) {
				particles[i].update();

				ctx.strokeStyle = '#000000';
				ctx.beginPath();
				ctx.moveTo(particles[i].x, particles[i].y);
				ctx.lineTo(particles[i].x - particles[i].xvel,
									 particles[i].y - particles[i].yvel);
				ctx.stroke();
				ctx.closePath();
			}

			setTimeout(loop, 10);
		}

		function load() {
			canvas = document.getElementById("canvas");
			ctx = canvas.getContext("2d");

			for(var i = 0; i < NUM_PARTICLES; i++) {
				particles[i] = new Particle();
			}

			ctx.lineWidth = "2";
			ctx.strokeStyle = "rgb(255, 255, 255)";
			loop();
		}
	</script>
	
	<style>
		

		canvas {
			color: black
			border:2px solid #444;
		}
	</style>

</head>
 
<body onload="load();">

<table>
<tbody><tr>
  <td >
  <canvas id="canvas" width="750" height="750" style="border: 2px solid black;" >
  </canvas>
  </td>
  
  </tr>
</tbody></table>

<p>
</p>



  

</body></html>
